{% extends "layouts/base.html" %}

{% block title %}Settings | Open OSCAL Wizard{% endblock %}

{% block content %}
  <h1 class="usa-heading">Settings</h1>
  <p class="usa-intro">
    Manage pinned catalogs and review manifest details.
  </p>

  {% if manifest %}
    <div class="margin-top-3">
      <h2 class="usa-heading--sm">Catalog manifest</h2>
      <p class="usa-hint">Schema version: {{ manifest.schema_version }}</p>
      <table class="usa-table usa-table--borderless width-full">
        <thead>
          <tr>
            <th scope="col">Filename</th>
            <th scope="col">Kind</th>
            <th scope="col">Version</th>
            <th scope="col">SHA256</th>
          </tr>
        </thead>
        <tbody>
          {% for item in manifest.items %}
            <tr>
              <td>{{ item.filename }}</td>
              <td>{{ item.kind }}</td>
              <td>{{ item.version }}</td>
              <td><code>{{ item.sha256 }}</code></td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="usa-alert usa-alert--warning" role="alert">
      <div class="usa-alert__body">
        <p class="usa-alert__text">
          No catalog manifest found. Run <code>python scripts/fetch_nist_catalogs.py</code>.
        </p>
      </div>
    </div>
  {% endif %}
{% endblock %}
